<!doctype html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

  <title>x-pages demo</title>

  <script src="../../webcomponentsjs/webcomponents-lite.js"></script>

  <link rel="import" href="../../iron-demo-helpers/demo-pages-shared-styles.html">
  <link rel="import" href="../../iron-demo-helpers/demo-snippet.html">

  <link rel="import" href="../x-router.html">
  <link rel="import" href="x-detail.html">

  <style is="custom-style" include="demo-pages-shared-styles">

    .button-container {
      display: flex;
      justify-content: space-between;
    }

    button {
      margin: 12px;
    }

  </style>

</head>

<body>

  <div class="vertical-section-container centered">

    <h3>x-router demo</h3>

    <div class="button-container">
      <button id="button-home">Home</button>
      <button id="button-signup">Signup</button>
      <button id="button-schedule">Schedule</button>
      <button id="button-info">Info</button>
    </div>

    <x-router main>
        <x-path name="home" pattern="^/$"></x-path>
        <x-path name="signup" pattern="^/signup$"></x-path>
        <x-path name="schedule" pattern="^/schedule$"></x-path>
        <x-path name="info" pattern="^/info$"></x-path>
    </x-router>

    <demo-snippet>

        <x-detail id="detail"></x-detail>

        <template>
            <x-router>
                <x-path name="home" pattern="^/$"></x-path>
                <x-path name="signup" pattern="^/signup$"></x-path>
                <x-path name="schedule" pattern="^/schedule$"></x-path>
                <x-path name="info" pattern="^/info$"></x-path>
            </x-router>
        </template>

    </demo-snippet>

  </div>

  <script>
    
    const router = document.querySelector(`x-router[main]`);
    router._mockLocationPathname = `/`;
    router.addEventListener(`route-change`, (event) => {
      const detail = document.getElementById(`detail`);
      detail.detail = event.detail;
    });

    const buttonHome = document.getElementById(`button-home`);
    buttonHome.addEventListener(`click`, (event) => {
      router._mockLocationPathname = `/`;
      router.push(`/home`, null);
    });
    
    const buttonSignup = document.getElementById(`button-signup`);
    buttonSignup.addEventListener(`click`, (event) => {
      router._mockLocationPathname = `/signup`;
      router.push(`/signup`, null);
    });

    const buttonSchedule = document.getElementById(`button-schedule`);
    buttonSchedule.addEventListener(`click`, (event) => {
      router._mockLocationPathname = `/schedule`;
      router.push(`/schedule`, null);
    });

    const buttonInfo = document.getElementById(`button-info`);
    buttonInfo.addEventListener(`click`, (event) => {
      router._mockLocationPathname = `/info`;
      router.push(`/info`, null);
    });

  </script>

</body>

</html>